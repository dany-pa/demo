(function(e){function t(t){for(var n,o,s=t[0],c=t[1],l=t[2],v=0,m=[];v<s.length;v++)o=s[v],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&m.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},"45ae":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAMAAABhTZc9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEVQTFRFTk5OXFxcX19fXl5eYGBgVFRUYWFhhYWFiIiIh4eHhoaGaGhoiYmJioqKampqaWlpYmJiVVVVa2trbm5ubW1tb29vW1tbkyex5wAAAHlJREFUeJztkksOgCAMRCsqFmzxg3r/owqNJgarexNnVvCYlsUAVKauTXKpxpgWbIfOYXIp77GHxpEuJg5gkXURY0hZlnd0w5izjnSaLgbZexxuXPaSys5f/fTr9El0aY7Syrcs5U4i61mZPD72OU+e5hgXcaE1xm0HXi8oG6/8F6QAAAAASUVORK5CYII="},4604:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAMAAABhTZc9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFRQTFRFkJCQq6ursLCwr6+vsbGxnJycs7Oz9/f3+/v7+vr6+fn5wcHB/v7+/f39////xMTE/Pz8xcXFtLS0w8PDtbW1np6ex8fHzMzMy8vLysrKzc3Nqamp8fI/vQAAAIpJREFUeJztks0SwiAMhCPFGmoSoK2C+v7vaeg4Hvh5AcdvT2GzEw4LcDLTZFQ11pgzzBd0DlU1y4JXsI4UVlUIiYcZpQ9L8JqVY48aO0iE1VHfZZHtuFuGNisUy13qevr2d3/CHcH+25ymk1Q6uQ6zFCJY/HSySQpH2EdZKr+63VN+JFWueKb8egO60itONTc82AAAAABJRU5ErkJggg=="},"85ec":function(e,t,a){},94770:function(e,t,a){"use strict";a("f656")},ca85:function(e,t,a){e.exports=a.p+"./demo/img/host.4cb4c779.jpg"},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("TrainingInteractiveMap")],1)},r=[],o=a("bee2"),s=a("d4ec"),c=a("262e"),l=a("2caf"),u=a("9ab4"),v=a("1b40"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[e.isStarted?e._e():a("button",{on:{click:e.start}},[e._v("START")]),a("div",{staticClass:"mapContainer"},[a("canvas",{ref:"canvas",staticClass:"canvas"}),a("div",{ref:"hostHUD",staticClass:"hostHUD"},[e._m(0),e._m(1),e._m(2)]),a("div",{staticClass:"attack"},[a("button",{ref:"startAttack",on:{click:e.resetAttack}},[e._v("Сбросить атаку")]),a("br"),a("br"),e._v(" Атака из сегмента: "),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.segmentFrom,expression:"segmentFrom"}],attrs:{name:"segmentFrom"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.segmentFrom=t.target.multiple?a:a[0]},e.checkSegmentTo]}},[a("option",{attrs:{value:"0"}},[e._v("Internet")]),a("option",{attrs:{value:"1"}},[e._v("DMZ")]),a("option",{attrs:{value:"2"}},[e._v("Data Center")]),a("option",{attrs:{value:"3"}},[e._v("Office users")]),a("option",{attrs:{value:"4"}},[e._v("ASU")])]),a("br"),e._v(" в сегмент: "),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.segmentTo,expression:"segmentTo"}],attrs:{name:"segmentFrom"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.segmentTo=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0",disabled:e.isDisabled(1)}},[e._v("Internet")]),a("option",{attrs:{value:"1",disabled:e.isDisabled(2)}},[e._v("DMZ")]),a("option",{attrs:{value:"2",disabled:e.isDisabled(3)}},[e._v("Data Center")]),a("option",{attrs:{value:"3",disabled:e.isDisabled(4)}},[e._v("Office users")]),a("option",{attrs:{value:"4",disabled:e.isDisabled(5)}},[e._v("ASU")])]),a("br"),a("br"),a("button",{ref:"startAttack",on:{click:e.startAttackSegment}},[e._v("Начать атаку на сегмент")]),a("br"),a("br"),a("button",{ref:"startAttack",on:{click:e.startAttackHost}},[e._v("Начать атаку на хост")])])])])},d=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("Сегмент: "),a("strong",{staticClass:"segmentName"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("Хост: "),a("strong",{staticClass:"hostName"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("IP хоста: "),a("strong",{staticClass:"hostIP"})])}],h=(a("38cf"),a("d3b7"),a("159b"),a("b0c0"),a("ca85")),p=a.n(h),b=a("626a"),f=4,O=4,j=.1,g=.5,w=1,y=.5,k=a("d5e4"),A=a("5364"),M=a("9bd1"),_=(a("6062"),a("3ca3"),a("ddb0"),a("99af"),a("10d1"),a("0fb9")),S=a("83fa"),T=new S["a"],x=new WeakMap,R=new WeakMap,z=new WeakMap,D=new WeakMap,F=new WeakMap,L=new WeakMap,P=new WeakMap,N=new WeakMap,C=function(){function e(t,a,n,i,r,o){Object(s["a"])(this,e),Object(k["a"])(this,x,{writable:!0,value:void 0}),Object(k["a"])(this,R,{writable:!0,value:void 0}),Object(k["a"])(this,z,{writable:!0,value:void 0}),Object(k["a"])(this,D,{writable:!0,value:void 0}),Object(k["a"])(this,F,{writable:!0,value:void 0}),Object(k["a"])(this,L,{writable:!0,value:void 0}),Object(k["a"])(this,P,{writable:!0,value:void 0}),Object(k["a"])(this,N,{writable:!0,value:void 0}),Object(M["a"])(this,P,new Set),Object(M["a"])(this,N,0),Object(M["a"])(this,F,i),Object(M["a"])(this,L,r),Object(M["a"])(this,z,o),Object(M["a"])(this,R,t),Object(M["a"])(this,D,this.createModal()),Object(M["a"])(this,x,this.create(i,a,n)),this.createText(i)}return Object(o["a"])(e,[{key:"create",value:function(e,t,a){var n=new b["t"]({name:"host_".concat(e),map:Object(A["a"])(this,z)}),i=new b["b"](g,w,y),r=new b["p"](i,n);r.castShadow=!0,r.name="host",r.userData._modal=Object(A["a"])(this,D),r.userData.segment=Object(A["a"])(this,R),r.userData.host=this;var o=new b["l"];return o.name="hostGroup_".concat(e),o.add(r),Object(A["a"])(this,R).instance.add(o),o.position.set(t,y+j,a),o}},{key:"createText",value:function(e){var t=this;T.load("https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json",(function(a){var n=new _["a"](e,{font:a,size:12,height:5,curveSegments:1,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:1}),i=new b["s"]({color:15990754,name:"text"}),r=new b["p"](n,i);r.name="hostText",r.position.set(.2,.4,0),r.rotation.x=-Math.PI/2,r.rotation.y=Math.PI/2,r.scale.multiplyScalar(.01),Object(A["a"])(t,x).add(r)}))}},{key:"createModal",value:function(){var e=new b["b"](4,8,.1),t=new b["q"]({color:new b["e"](0,255,0)}),a=new b["p"](e,t);a.rotation.y=Math.PI/2;var n=new b["l"];return n.add(a),T.load("https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json",(function(e){var t=new _["a"]("text",{font:e,size:12,height:5,curveSegments:1,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:1}),a=new b["s"]({color:0,name:"text"}),n=new b["p"](t,a);n.position.set(0,0,0),n.rotation.x=-Math.PI/2,n.rotation.y=Math.PI/2,n.scale.multiplyScalar(.01)})),n}},{key:"generateEvent",value:function(){var e=new b["F"](.1,64,32),t=new b["q"]({color:16776960,name:"sphere"}),a=new b["p"](e,t);Object(A["a"])(this,x).add(a),this.addAnimateEvent(this.animateEvent,a)}},{key:"addAnimateEvent",value:function(e){var t="host_".concat(Object(A["a"])(this,F),"_Event_").concat(Object(A["a"])(this,N));Object(M["a"])(this,N,Object(A["a"])(this,N)+1),Object(A["a"])(this,P).add(t);for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];this.interactiveMap.elementsForAnimated[t]=e.bind.apply(e,[this,t].concat(n))()}},{key:"removeAnimateEvent",value:function(e){Object(A["a"])(this,P).delete(e),delete this.interactiveMap.elementsForAnimated[e]}},{key:"animateEvent",value:function(e,t){var a="up",n=this;return function(){"up"===a?(t.position.y+=.1,t.position.y>=.7&&(a="down")):"down"===a&&(t.position.y-=.01,t.position.y<=0&&(a="up",n.removeAnimateEvent(e)))}}},{key:"interactiveMap",get:function(){return Object(A["a"])(this,R).interactiveMap}},{key:"instance",get:function(){return Object(A["a"])(this,x)}},{key:"name",get:function(){return Object(A["a"])(this,F)}},{key:"ip",get:function(){return Object(A["a"])(this,L)}}]),e}(),B=a("5530"),I=a("2909"),E=(a("4de4"),a("caad"),a("d81d"),a("7db0"),a("4604")),U=a.n(E),W=a("cb88"),Z=a("9477"),G=a("4818"),H=a("35cf"),q=a("9b86"),J=a("0911"),V=a("45ae"),X=a.n(V),Y=new b["I"],K=new S["a"],Q=new WeakMap,$=new WeakMap,ee=new WeakMap,te=new WeakMap,ae=new WeakMap,ne=new WeakMap,ie=function(){function e(t,a,n,i){Object(s["a"])(this,e),Object(k["a"])(this,Q,{writable:!0,value:void 0}),Object(k["a"])(this,$,{writable:!0,value:void 0}),Object(k["a"])(this,ee,{writable:!0,value:void 0}),Object(k["a"])(this,te,{writable:!0,value:void 0}),Object(k["a"])(this,ae,{writable:!0,value:void 0}),Object(k["a"])(this,ne,{writable:!0,value:void 0}),Object(M["a"])(this,$,[]),this.connections=[],Object(M["a"])(this,Q,t),Object(M["a"])(this,ae,t),Object(M["a"])(this,te,this.create(t,a,n)),Object(M["a"])(this,ne,i),this.createText(t)}return Object(o["a"])(e,[{key:"create",value:function(e,t,a){var n=Y.load(X.a),i=new b["t"]({name:"segment_".concat(e),map:n}),r=new b["b"](O,f,j),o=new b["p"](r,i);o.rotation.x=-1.57,o.castShadow=!0,o.name="mainMesh";var s=new b["l"];return s.add(o),s.name="segmentGroup_".concat(e),s.position.set(t,j/2,a),s.userData={insatnce:this,connections:{from:[],to:[]}},s}},{key:"createText",value:function(e){var t=this;K.load("https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json",(function(a){var n=new _["a"](e,{font:a,size:40,height:4,curveSegments:1,bevelEnabled:!0,bevelThickness:1,bevelSize:1,bevelSegments:5}),i=new b["s"]({color:15990754,name:"text",side:b["g"]}),r=new b["p"](n,i);r.position.set(-1.8,0,1.8),r.rotation.x=-Math.PI/2,r.scale.multiplyScalar(.01),Object(A["a"])(t,te).add(r),Object(M["a"])(t,ee,r)}))}},{key:"createHost",value:function(e,t,a){var n=3,i=1.5,r=-1.5,o=-1.5,s=1,c=Math.floor(Object(A["a"])(this,$).length/n),l=r+Object(A["a"])(this,$).length%n*i,u=o+c*s,v=new C(this,l,u,e,t,a);return Object(A["a"])(this,te).add(v.instance),Object(A["a"])(this,$).push(v),v}},{key:"instance",get:function(){return Object(A["a"])(this,te)}},{key:"name",get:function(){return Object(A["a"])(this,ae)}},{key:"interactiveMap",get:function(){return Object(A["a"])(this,ne)}},{key:"hosts",get:function(){return Object(A["a"])(this,$)}}]),e}(),re=a("f81a"),oe=a.n(re),se=new b["I"],ce=new WeakMap,le=new WeakMap,ue=function(){function e(t,a,n){Object(s["a"])(this,e),Object(k["a"])(this,ce,{writable:!0,value:void 0}),Object(k["a"])(this,le,{writable:!0,value:void 0}),Object(M["a"])(this,ce,t),Object(M["a"])(this,le,this.create(a,n,t))}return Object(o["a"])(e,[{key:"create",value:function(e,t,a){var n=new b["b"](3,3,.1),i=se.load(oe.a);i.rotation=-.8,i.offset=new b["K"](.5,-0),i.wrapS=b["B"],i.wrapT=b["B"],i.magFilter=b["u"],i.repeat.x=.7,i.repeat.y=.7;var r=new b["t"]({side:b["g"],map:i}),o=new b["p"](n,r);o.rotation.x=Math.PI/2,o.rotation.z=Math.PI/4,o.name="mainMesh";var s=new b["l"];return s.add(o),s.name="routerGroup_".concat(a),console.log(a),s.position.set(e,.01,t),s.userData={isRouter:!0},s}},{key:"instance",get:function(){return Object(A["a"])(this,le)}}]),e}(),ve=new b["I"],me=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,be=new WeakMap,fe=new WeakMap,Oe=new WeakMap,je=new WeakMap,ge=new WeakMap,we=new WeakMap,ye=function(){function e(t,a,n,i){Object(s["a"])(this,e),Object(k["a"])(this,me,{writable:!0,value:void 0}),Object(k["a"])(this,de,{writable:!0,value:void 0}),Object(k["a"])(this,he,{writable:!0,value:void 0}),Object(k["a"])(this,pe,{writable:!0,value:void 0}),Object(k["a"])(this,be,{writable:!0,value:void 0}),Object(k["a"])(this,fe,{writable:!0,value:void 0}),Object(k["a"])(this,Oe,{writable:!0,value:void 0}),Object(k["a"])(this,je,{writable:!0,value:void 0}),Object(k["a"])(this,ge,{writable:!0,value:void 0}),Object(k["a"])(this,we,{writable:!0,value:void 0}),this.attackLines=[],Object(M["a"])(this,be,new b["L"](90,.5,90)),Object(M["a"])(this,fe,[]),Object(M["a"])(this,Oe,[]),Object(M["a"])(this,je,[]),this.connections=[],this.selectedObjects=[],this.raycaster=new b["A"],this.mouse=new b["K"],Object(M["a"])(this,we,{}),Object(M["a"])(this,me,new b["C"]),Object(A["a"])(this,me).background=new b["e"](10066329),Object(M["a"])(this,ge,i),Object(M["a"])(this,de,this.createCamera()),Object(M["a"])(this,he,this.createWebGLRenderer(t.width,t.height,n)),Object(M["a"])(this,pe,this.createLight(a.x,a.y,a.z)),Object(A["a"])(this,me).add(Object(A["a"])(this,de)),this.createFloor(),this.initPostProcessing();var r=new J["a"](Object(A["a"])(this,de),Object(A["a"])(this,he).domElement);r.minZoom=1,r.maxZoom=7,r.maxPolarAngle=.9*Math.PI/2.2,r.enablePan=!0,this.controls=r,this.render()}return Object(o["a"])(e,[{key:"connectRouterTo",value:function(e,t){var a,n,i,r=(null===e||void 0===e?void 0:e.position.x)||0,o=(null===e||void 0===e?void 0:e.position.z)||0,s=(null===t||void 0===t?void 0:t.position.x)||0,c=(null===t||void 0===t?void 0:t.position.z)||0,l=this.connections.filter((function(e){return e.to.name===t.name})).length+1;l=l>1?l:0;var u,v=(null===(a=e.getObjectByName("mainMesh"))||void 0===a||null===(n=a.geometry)||void 0===n||null===(i=n.parameters)||void 0===i?void 0:i.width)||0,m=Math.abs(r-s),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{x:r,z:o-Math.ceil(v/2)-e/2,direction:"up",size:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{x:r-Math.ceil(v/2)-e/2,z:o,direction:"left",size:e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return{x:r+Math.ceil(v/2)+e/2,z:o,direction:"right",size:e}};r<s?u="right":r>s&&(u="left");var b=[],f=.1,O=t.getObjectByName("mainMesh").geometry.parameters,j=Math.abs(o-c)-O.height/2;switch(u){case"right":r===s&&b.push(p());var g=p(m-O.width/2),w=d(j);w.x=g.x+g.size/2+l*f,w.z=g.z-j/2,g.x-=l*f,b.push(g),b.push(w);break;case"left":r===s&&b.push(p());var y=h(m-O.width/2),k=d(j);k.x=y.x-y.size/2+l*f,k.z=y.z-j/2,y.x+=l*f,b.push(y),b.push(k);break;default:break}var A=this.createLine(b);this.connections.push({from:e,to:t,lines:A})}},{key:"createLine",value:function(e){var t,a=[];return e.forEach((function(e){var t,n=.1,i=.1,r=null!==(t=e.y)&&void 0!==t?t:0;["right","left"].includes(e.direction)?n=e.size:["up","down"].includes(e.direction)&&(i=e.size);var o=new b["t"]({color:e.color||"blue",visible:!e.animation}),s=new b["b"](n,.1,i,1,1,1),c=new b["p"](s,o);c.position.set(e.x,r,e.z),e.name&&(c.name=e.name),a.push({mesh:c,data:e})})),(t=Object(A["a"])(this,me)).add.apply(t,Object(I["a"])(a.map((function(e){return e.mesh})))),a}},{key:"findConnections",value:function(e){}},{key:"creaeteAttackLines",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.lines.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),n=this.createLine(a);return t&&n.reverse(),n}},{key:"attack",value:function(e,t){var a=this,n=0,i=[],r=function(){var t,r=a.connections.filter((function(t){var a;return null!==(a=e.userData)&&void 0!==a&&a.isRouter?t.from.name===e.name:t.to.name===e.name})),o=r[0];console.log(o);var s=!(null!==(t=e.userData)&&void 0!==t&&t.isRouter),c=a.creaeteAttackLines(o,s),l={left:"x",right:"x",up:"z",down:"z"};c.forEach((function(t,a){var r,s=l[t.data.direction];t.mesh.scale[s]=0,t.mesh.position[s]-=t.data.size/2;var c="attack_".concat(a,"_").concat(n);n++;var u=null!==(r=e.userData)&&void 0!==r&&r.isRouter?o.to.getObjectByName("mainMesh"):o.from.getObjectByName("mainMesh");i.push({line:t,target:u,direction:s,name:c})})),e=o.from};while(n<8)r();var o=0;i.forEach((function(e,t){var n=e.line,i=e.name,r=e.direction,s=e.target;a.elementsForAnimated[i]=function(){if(o===t){var e=n.mesh;e.material.visible||(e.material.visible=!0),e.scale[r]<1?(e.scale[r]+=.01,e.position[r]+=n.data.size/200):(o++,delete a.elementsForAnimated[i],o%2===0&&(s.material.color=new b["e"]("red")))}}}))}},{key:"createRouter",value:function(e,t,a){var n=new ue(e,t,a);return Object(A["a"])(this,me).add(n.instance),Object(A["a"])(this,Oe).push(n),n.instance}},{key:"initPostProcessing",value:function(){var e=this;this.composer=new W["a"](Object(A["a"])(this,he));var t=new Z["a"](Object(A["a"])(this,me),Object(A["a"])(this,de));this.composer.addPass(t),this.outlinePass=new H["a"](new b["K"](window.innerWidth,window.innerHeight),Object(A["a"])(this,me),Object(A["a"])(this,de)),this.outlinePass.visibleEdgeColor=new b["e"](255,0,0),this.outlinePass.hiddenEdgeColor=new b["e"](255,0,0),this.outlinePass.edgeThickness=1,this.outlinePass.edgeStrength=10,this.composer.addPass(this.outlinePass);var a=new G["a"](q["a"]);a.uniforms.resolution.value.set(1/window.innerWidth,1/window.innerHeight),this.composer.addPass(a),Object(A["a"])(this,he).domElement.style.touchAction="none",Object(A["a"])(this,he).domElement.addEventListener("pointermove",(function(t){return e.onPointerMove(t)})),Object(A["a"])(this,he).domElement.addEventListener("pointerdown",(function(t){return e.onPointerDown(t)}))}},{key:"onPointerMove",value:function(e){!1!==e.isPrimary&&(this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.checkIntersection())}},{key:"onPointerDown",value:function(e){if(!1!==e.isPrimary&&0!==this.selectedObjects.length){var t=this.selectedObjects[0],a=t.userData._modal;this.activeModal=a}}},{key:"checkIntersection",value:function(){this.raycaster.setFromCamera(this.mouse,Object(A["a"])(this,de));var e=this.raycaster.intersectObject(Object(A["a"])(this,me),!0);if(0!=e.length){var t=e[0].object;this.addHost(t),this.outlinePass&&(this.outlinePass.selectedObjects=this.selectedObjects)}}},{key:"addHost",value:function(e){if(e){if(this.selectedObjects=[],"hostText"==e.name){var t,a=null===(t=e.parent)||void 0===t?void 0:t.children.find((function(e){return"host"==e.name}));if(!a)return;this.selectedObjects.push(a)}else"host"==e.name&&this.selectedObjects.push(e);if(Object(A["a"])(this,ge))if(this.selectedObjects.length>0){var n=this.selectedObjects[0].userData.segment.name;Object(A["a"])(this,ge).querySelector(".segmentName").textContent=n;var i=this.selectedObjects[0].userData.host.name;Object(A["a"])(this,ge).querySelector(".hostName").textContent=i;var r=this.selectedObjects[0].userData.host.ip;Object(A["a"])(this,ge).querySelector(".hostIP").textContent=r}else Object(A["a"])(this,ge).querySelector(".segmentName").textContent="",Object(A["a"])(this,ge).querySelector(".hostName").textContent="",Object(A["a"])(this,ge).querySelector(".hostIP").textContent=""}}},{key:"createSegment",value:function(e){var t=-9,a=-3,n=6,i=t+n*(Object(A["a"])(this,fe).length||0),r=new ie(e,i,a,this);return Object(A["a"])(this,fe).push(r),Object(A["a"])(this,me).add(r.instance),r}},{key:"createHostsConnection",value:function(e,t){var a=new b["q"]({color:16711680,name:"hostsConnection"}),n=new b["b"](t,.5,.1),i=new b["p"](n,a);i.position.set(.5,1,-.45);var r=new b["F"](.1,64,32),o=new b["q"]({color:16776960,name:"sphere"}),s=new b["p"](r,o);s.position.set(.2,1.5,-.1);var c=new b["l"];c.add(i),c.add(s),Object(A["a"])(this,je).push({id:e,connection:i,sphere:s}),Object(A["a"])(this,me).add(c)}},{key:"createCamera",value:function(){var e=window.innerWidth/window.innerHeight,t=10,a=new b["w"](-t*e,t*e,t,-t,1,1e3);return a.position.set(20,20,20),a.rotation.order="YXZ",a.rotation.y=-Math.PI/4,a.rotation.x=Math.atan(-1/Math.sqrt(2)),a}},{key:"createWebGLRenderer",value:function(e,t,a){var n=new b["N"]({canvas:a,antialias:!1});return n.setPixelRatio(window.devicePixelRatio),n.shadowMap.enabled=!0,n.shadowMap.type=b["x"],n.setSize(e,t),n}},{key:"createLight",value:function(e,t,a){var n=new b["f"](16777215,1.5);return n.position.set(10,10,0),Object(A["a"])(this,me).add(n),n}},{key:"createFloor",value:function(){var e=ve.load(U.a);e.wrapS=b["B"],e.wrapT=b["B"],e.repeat.set(90,90),e.magFilter=b["u"];var t=new b["t"]({name:"floor",map:e}),a=new b["p"](new b["b"](Object(A["a"])(this,be).x,Object(A["a"])(this,be).y,Object(A["a"])(this,be).z),t);a.position.set(0,-Object(A["a"])(this,be).y/2,0),Object(A["a"])(this,me).add(a)}},{key:"render",value:function(){var e,t=this;for(var a in Object(A["a"])(this,je).length>0&&Object(A["a"])(this,je).forEach((function(e){console.log(e)})),Object(A["a"])(this,we))Object(A["a"])(this,we)[a]();Object(A["a"])(this,he).render(Object(A["a"])(this,me),Object(A["a"])(this,de)),null===(e=this.composer)||void 0===e||e.render(),requestAnimationFrame((function(){return t.render()}))}},{key:"scene",get:function(){return Object(A["a"])(this,me)}},{key:"camera",get:function(){return Object(A["a"])(this,de)}},{key:"renderer",get:function(){return Object(A["a"])(this,he)}},{key:"light",get:function(){return Object(A["a"])(this,pe)}},{key:"elementsForAnimated",get:function(){return Object(A["a"])(this,we)}},{key:"segments",get:function(){return Object(A["a"])(this,fe)}},{key:"fromInternetToRouter",value:function(){var e=this;return new Promise((function(t,a){var n,i="segmentGroup_Internet",r="routerGroup_Router 1",o="fromInternetToRouter",s="z",c=!0,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===r&&e.to.name===i})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[0],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromRouterToDMZ",value:function(){var e=this;return new Promise((function(t,a){var n,i="routerGroup_Router 1",r="segmentGroup_DMZ",o="fromRouterToDMZ",s="x",c=!1,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===i&&e.to.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[1],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromDMZToRouter",value:function(){var e=this;return new Promise((function(t,a){var n,i="segmentGroup_DMZ",r="routerGroup_Router 2",o="fromDMZToRouter",s="z",c=!0,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===r&&e.to.name===i})),v=null===u||void 0===u?void 0:u.lines;console.log(u);var m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[0],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromRouterToDataCenter",value:function(){var e=this;return new Promise((function(t,a){var n,i="routerGroup_Router 2",r="segmentGroup_Data Center",o="fromRouterToDataCenter",s="x",c=!1,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===i&&e.to.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[1],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromDataCenterToRouter",value:function(){var e=this;return new Promise((function(t,a){var n,i="segmentGroup_Data Center",r="routerGroup_Router 2",o="fromDataCenterToRouter",s="z",c=!0,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.to.name===i&&e.from.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),c=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(c));var v=c[0],m=v.mesh;m.material.visible||(m.material.visible=!0),m.scale[s]<1&&(m.scale[s]+=.01,m.position[s]+=v.data.size/200);var d=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),h=e.createLine(d);(n=e.attackLines).push.apply(n,Object(I["a"])(h));var p=h[1],f=p.mesh;f.scale[s]=0,f.position[s]-=p.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromOfficeUserToRouter",value:function(){var e=this;return new Promise((function(t,a){var n,i="segmentGroup_Office users",r="routerGroup_Router 2",o="fromOfficeUserToASU",s="z",c=!0,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.to.name===i&&e.from.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),c=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(c));var v=c[0],m=v.mesh;m.material.visible||(m.material.visible=!0),m.scale[s]<1&&(m.scale[s]+=.01,m.position[s]+=v.data.size/200);var d=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),h=e.createLine(d);(n=e.attackLines).push.apply(n,Object(I["a"])(h));var p=h[1],f=p.mesh;f.scale[s]=0,f.position[s]-=p.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromRouterToOfficeUsers",value:function(){var e=this;return new Promise((function(t,a){var n,i="routerGroup_Router 2",r="segmentGroup_Office users",o="fromRouterToOfficeUsers",s="x",c=!1,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===i&&e.to.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[1],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"fromRouterToASU",value:function(){var e=this;return new Promise((function(t,a){var n,i="routerGroup_Router 2",r="segmentGroup_ASU",o="fromRouterToASU",s="x",c=!1,l=(e.scene.getObjectByName(i),e.scene.getObjectByName(r)),u=e.connections.find((function(e){return e.from.name===i&&e.to.name===r})),v=null===u||void 0===u?void 0:u.lines,m=v.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&m.reverse();var d=e.createLine(m);(n=e.attackLines).push.apply(n,Object(I["a"])(d));var h=d[0],p=h.mesh;p.scale[s]=0,p.position[s]-=h.data.size/2,e.elementsForAnimated["".concat(o,"_1")]=function(){p.material.visible||(p.material.visible=!0),p.scale[s]<1?(p.scale[s]+=.01,p.position[s]+=h.data.size/200):e.elementsForAnimated["".concat(o,"_2")]=function(){var a,n,i=null===u||void 0===u?void 0:u.lines,r=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})})),v=e.createLine(r);(a=e.attackLines).push.apply(a,Object(I["a"])(v));var m=v[1],d=m.mesh;d.material.visible||(d.material.visible=!0),d.scale[s]<1&&(d.scale[s]+=.01,d.position[s]+=m.data.size/200);var h=i.map((function(e){return Object(B["a"])(Object(B["a"])({},e.data),{},{y:.1,color:"red",animation:!0})}));c&&h.reverse();var p=e.createLine(h);(n=e.attackLines).push.apply(n,Object(I["a"])(p));var f=p[0],O=f.mesh;O.scale[s]=0,O.position[s]-=f.data.size/2,l.getObjectByName("mainMesh").material.color=new b["e"]("red"),delete e.elementsForAnimated["".concat(o,"_1")],delete e.elementsForAnimated["".concat(o,"_2")],t("")}}}))}},{key:"resetAttack",value:function(){Object(M["a"])(this,we,{}),Object(A["a"])(this,fe).forEach((function(e){e.instance.getObjectByName("mainMesh").material.color=new b["e"]("transparent")})),Object(A["a"])(this,Oe).forEach((function(e){e.instance.getObjectByName("mainMesh").material.color=new b["e"]("transparent")})),this.attackLines.forEach((function(e){e.mesh.scale.x=0,e.mesh.scale.y=0,e.mesh.scale.z=0}))}}]),e}();var ke=a("ee65"),Ae=new b["I"],Me=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.isStarted=!1,e.attackSegmentLines=[],e.attackHostLines=[],e.segmentFrom=0,e.segmentTo=1,e.segments=["Internet","DMZ","Data Center","Office users","ASU"],e}return Object(o["a"])(a,[{key:"mounted",value:function(){this.isStarted=!0,this.start(this.canvas,this.hostHUD)}},{key:"start",value:function(e,t){var a={width:window.innerWidth-20,height:window.innerHeight-20},n=new b["L"](10,10,-4),i=new ye(a,n,e,t);this.interactiveMap=i;var r=[],o=[];return Ae.load(p.a,(function(e){e.repeat.x=.4,e.repeat.y=.4,e.offset.set(.5,.5),ke.segments.forEach((function(t){var a,n=i.createSegment(t.name);r.push(n),null===(a=t.hosts)||void 0===a||a.forEach((function(t){n.createHost(t.name,t.ip,e)}))})),ke.routers.forEach((function(e){if(e.segments){var t=i.scene.getObjectByName("segmentGroup_".concat(e.segments.from)),a=(null===t||void 0===t?void 0:t.position.x)||0,n=(null===t||void 0===t?void 0:t.position.z)||0,r=3,s=5,c=a+r,l=n+s,u=i.createRouter(e.name,c,l);o.push(u),e.segments.to.forEach((function(e){var t=i.scene.getObjectByName("segmentGroup_".concat(e));i.connectRouterTo(u,t)})),i.connectRouterTo(u,t)}}));i.scene.getObjectByName("segmentGroup_Internet"),i.scene.getObjectByName("segmentGroup_ASU")})),i}},{key:"startAttackSegment",value:function(){var e,t,a,n,i,r,o,s,c=this;if(this.interactiveMap&&void 0!==this.segmentTo&&void 0!==this.segmentFrom)switch(this.resetAttack(),this.segments[this.segmentFrom]){case"Internet":switch(this.segments[this.segmentTo]){case"DMZ":null===(e=this.interactiveMap)||void 0===e||e.fromInternetToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDMZ()}));break;case"Data Center":null===(t=this.interactiveMap)||void 0===t||t.fromInternetToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDMZ()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDataCenter()}));break;case"Office users":null===(a=this.interactiveMap)||void 0===a||a.fromInternetToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDMZ()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToOfficeUsers()}));break;case"ASU":null===(n=this.interactiveMap)||void 0===n||n.fromInternetToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDMZ()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToASU()}));break}break;case"DMZ":switch(this.segments[this.segmentTo]){case"Data Center":null===(i=this.interactiveMap)||void 0===i||i.fromDMZToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToDataCenter()}));break;case"Office users":null===(r=this.interactiveMap)||void 0===r||r.fromDMZToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToOfficeUsers()}));break;case"ASU":null===(o=this.interactiveMap)||void 0===o||o.fromDMZToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToASU()}));break}break;case"Data Center":switch(this.segments[this.segmentTo]){case"Office users":this.interactiveMap.fromDataCenterToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToOfficeUsers()}));break;case"ASU":this.interactiveMap.fromDataCenterToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToASU()}));break}break;case"Office users":switch(this.segments[this.segmentTo]){case"ASU":null===(s=this.interactiveMap)||void 0===s||s.fromOfficeUserToRouter().then((function(){var e;return null===(e=c.interactiveMap)||void 0===e?void 0:e.fromRouterToASU()}));break}break}}},{key:"startAttackHost",value:function(){var e,t=this;this.resetAttack();var a=this.interactiveMap.scene.getObjectByName("hostGroup_Administrator Workstation").getObjectByName("host");a.material.color=new b["e"]("transparent"),null===(e=this.interactiveMap)||void 0===e||e.fromInternetToRouter().then((function(){var e;return null===(e=t.interactiveMap)||void 0===e?void 0:e.fromRouterToDMZ()})).then((function(){var e;return null===(e=t.interactiveMap)||void 0===e?void 0:e.fromDMZToRouter()})).then((function(){var e;return null===(e=t.interactiveMap)||void 0===e?void 0:e.fromRouterToOfficeUsers()})).then((function(){return a.material.color=new b["e"]("red")}))}},{key:"resetAttack",value:function(){var e;null===(e=this.interactiveMap)||void 0===e||e.resetAttack()}},{key:"addAttackAnimation",value:function(e,t,a,n){var i=this;if(this.interactiveMap){var r=0;this.interactiveMap.elementsForAnimated[e]=function(){var o,s;if(r>=a.length)return null===(s=i.interactiveMap)||void 0===s||delete s.elementsForAnimated[e],void(n.material.color=new b["e"]("red"));var c=null===(o=t[r])||void 0===o?void 0:o.animation;if(c){var l=a[r];if(l){l.material.visible||(l.material.visible=!0);var u=l.scale[c.direction];u<c.toScale&&(l.scale[c.direction]+=.1);var v=l.position[c.direction];"+"==c.method&&v<c.toPosition?l.position[c.direction]+=.05:"-"==c.method&&v>c.toPosition?l.position[c.direction]-=.05:r++}}}}}},{key:"isDisabled",value:function(e){return e<=this.segmentFrom}},{key:"checkSegmentTo",value:function(){void 0!==this.segmentTo&&this.segmentTo<=this.segmentFrom&&(this.segmentTo=void 0)}},{key:"canvas",get:function(){return this.$refs.canvas}},{key:"hostHUD",get:function(){return this.$refs.hostHUD}}]),a}(v["b"]);Me=Object(u["a"])([v["a"]],Me);var _e=Me,Se=_e,Te=(a("94770"),a("2877")),xe=Object(Te["a"])(Se,m,d,!1,null,"2a11a5a7",null),Re=xe.exports,ze=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(o["a"])(a)}(v["b"]);ze=Object(u["a"])([Object(v["a"])({components:{TrainingInteractiveMap:Re}})],ze);var De=ze,Fe=De,Le=(a("034f"),Object(Te["a"])(Fe,i,r,!1,null,null,null)),Pe=Le.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(e){return e(Pe)}}).$mount("#app")},ee65:function(e){e.exports=JSON.parse('{"segments":[{"name":"Internet","hosts":[{"name":"Kali","ip":"185.88.181.55"},{"name":"ProxyChecker","ip":"185.88.181.88"}]},{"name":"DMZ","hosts":[{"name":"CMS Drupal","ip":"10.10.1.20"},{"name":"Web Server 2","ip":"10.10.1.21"},{"name":"Appache Tomcat","ip":"10.10.1.24"},{"name":"Security Onion","ip":"\'10.10.1.25"}]},{"name":"Data Center","hosts":[{"name":"MS Active Directory","ip":"10.10.2.10"},{"name":"MS Exchange","ip":"10.10.2.11"},{"name":"MS FileServer","ip":"10.10.2.12"},{"name":"Database Server","ip":"10.10.2.13"},{"name":"SSH Server","ip":"10.10.2.14"},{"name":"Redmine Server","ip":"10.10.2.15"},{"name":"CMS Made Simple","ip":"10.10.2.16"},{"name":"ViPNet IDS HS","ip":"10.10.2.17"},{"name":"ViPNet IDS NS","ip":"10.10.2.21"},{"name":"ViPNet TIAS","ip":"10.10.2.23"}]},{"name":"Office users","hosts":[{"name":"Administrator Workstation","ip":"10.10.4.10"},{"name":"Manager Workstation 1","ip":"10.10.4.11"},{"name":"Response Team Workstation","ip":"10.10.4.12"},{"name":"Insider Workstation","ip":"10.10.4.17"},{"name":"Developer Workstation","ip":"10.10.4.13"},{"name":"Manager Workstation 2","ip":"10.10.4.14"}]},{"name":"ASU","hosts":[{"name":"SCADA IGSS","ip":"10.10.3.10"}]}],"routers":[{"name":"Router 1","segments":{"from":"Internet","to":["DMZ"]}},{"name":"Router 2","x":-6,"z":2,"segments":{"from":"DMZ","to":["Data Center","Office users","ASU"]}}]}')},f656:function(e,t,a){},f81a:function(e,t,a){e.exports=a.p+"./demo/img/router.d06ce6ef.png"}});
//# sourceMappingURL=app.b5b07dac.js.map