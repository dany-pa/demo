{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a022","webpack:///./src/features/InteractiveMap/textures/segment.png","webpack:///./src/features/InteractiveMap/textures/floor.png","webpack:///./src/components/TrainingInteractiveMap/index.vue?36b9","webpack:///./src/features/InteractiveMap/textures/host.jpg","webpack:///./src/App.vue?2227","webpack:///./src/components/TrainingInteractiveMap/index.vue?9813","webpack:///./src/features/InteractiveMap/const.ts","webpack:///./src/features/InteractiveMap/Host.ts","webpack:///./src/features/InteractiveMap/Segment.ts","webpack:///./src/features/InteractiveMap/Router.ts","webpack:///./src/features/InteractiveMap/InteractiveMap.ts","webpack:///./src/components/TrainingInteractiveMap/script.ts","webpack:///./src/components/TrainingInteractiveMap/script.ts?d6f9","webpack:///./src/components/TrainingInteractiveMap/index.vue","webpack:///./src/App.vue?9844","webpack:///./src/App.vue?6c26","webpack:///./src/App.vue","webpack:///./src/main.ts","webpack:///./src/features/InteractiveMap/textures/router.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","isStarted","_e","on","start","_v","staticClass","ref","_m","resetAttack","directives","rawName","expression","$event","$$selectedVal","Array","filter","target","options","selected","map","val","_value","segmentFrom","multiple","checkSegmentTo","segmentTo","isDisabled","startAttackSegment","startAttackHost","SEGMENT_HEIGHT","SEGMENT_WIDTH","SEGMENT_DEPTH","HOST_WIDTH","HOST_HEIGHT","HOST_DEPTH","fontLoader","FontLoader","Host","segment","x","z","text","ip","texture","Set","createModal","createText","hostMaterial","MeshStandardMaterial","host","BoxGeometry","hostMesh","Mesh","castShadow","userData","_modal","hostGroup","Group","add","instance","position","set","load","font","geometry","TextGeometry","size","height","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelSegments","material","MeshLambertMaterial","color","textMesh","rotation","Math","PI","y","scale","multiplyScalar","modalGeometry","modalMaterial","MeshBasicMaterial","Color","modalMesh","modalGroup","sphereGeometry","SphereGeometry","sphereMaterial","sphere","addAnimateEvent","animateEvent","fn","eventId","args","interactiveMap","elementsForAnimated","delete","direction","removeAnimateEvent","textureLoader","TextureLoader","Segment","connections","id","segmentTexture","segmentMaterial","segmentMesh","segmentGroup","insatnce","from","to","side","DoubleSide","perLine","stepX","startX","startZ","stepZ","lines","floor","Router","routerTexture","offset","Vector2","wrapS","RepeatWrapping","wrapT","magFilter","NearestFilter","repeat","plane","planeGroup","console","log","isRouter","InteractiveMap","rendererSize","lightPositions","canvas","hostHUD","attackLines","Vector3","selectedObjects","raycaster","Raycaster","mouse","Scene","background","createCamera","createWebGLRenderer","width","createLight","createFloor","initPostProcessing","controls","OrbitControls","domElement","minZoom","maxZoom","maxPolarAngle","enablePan","render","router","routerX","routerZ","toX","toZ","connectionsCount","el","verticalDirection","objWidth","getObjectByName","parameters","defaultLength","abs","upLine","ceil","leftLine","rightLine","linesToDraw","moveStep","toParameters","line2Size","lineDataRight","lineDataUp","lineDataLeft","lineDataUp2","createLine","linesMeshes","forEach","line","depth","includes","lineMaterial","visible","animation","mesh","connection","isReverse","reverse","animationsCount","animations","connectionsFrom","creaeteAttackLines","directions","left","right","up","down","index","animationName","animationSteps","anim","composer","EffectComposer","renderPass","RenderPass","addPass","outlinePass","OutlinePass","innerWidth","innerHeight","visibleEdgeColor","hiddenEdgeColor","edgeThickness","edgeStrength","effectFXAA","ShaderPass","FXAAShader","uniforms","resolution","style","touchAction","addEventListener","event","onPointerMove","onPointerDown","isPrimary","clientX","clientY","checkIntersection","modal","activeModal","setFromCamera","intersects","intersectObject","selectedObject","addHost","obj","parent","children","find","segmentName","querySelector","textContent","hostName","hostIP","hostConnectionMaterial","hostConnection","hostConnectionMesh","connectionGroup","aspect","camera","OrthographicCamera","order","atan","sqrt","renderer","WebGLRenderer","antialias","setPixelRatio","devicePixelRatio","shadowMap","enabled","type","PCFSoftShadowMap","setSize","light","DirectionalLight","bg","floorMaterial","requestAnimationFrame","Promise","res","rej","nameFrom","nameTo","animName","scene","linesToDraw2","attackLines2","line2","mesh2","TrainingInteractiveMap","attackSegmentLines","attackHostLines","segments","rendererSizes","IM","routers","hostImage","mapData","newSegment","createSegment","hosts","createHost","fromX","fromZ","newRouter","createRouter","connectRouterTo","undefined","fromInternetToRouter","then","fromRouterToDMZ","fromDMZToRouter","fromRouterToDataCenter","fromRouterToOfficeUsers","fromRouterToASU","fromDataCenterToRouter","fromOfficeUserToRouter","linesData","animateStep","lineData","curScale","toScale","curPosition","method","toPosition","segmentIndex","$refs","Vue","Component","component","App","components","config","productionTip","h","$mount"],"mappings":"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","file":"js/app.b5b07dac.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAMAAABhTZc9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAEVQTFRFTk5OXFxcX19fXl5eYGBgVFRUYWFhhYWFiIiIh4eHhoaGaGhoiYmJioqKampqaWlpYmJiVVVVa2trbm5ubW1tb29vW1tbkyex5wAAAHlJREFUeJztkksOgCAMRCsqFmzxg3r/owqNJgarexNnVvCYlsUAVKauTXKpxpgWbIfOYXIp77GHxpEuJg5gkXURY0hZlnd0w5izjnSaLgbZexxuXPaSys5f/fTr9El0aY7Syrcs5U4i61mZPD72OU+e5hgXcaE1xm0HXi8oG6/8F6QAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAMAAABhTZc9AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAFRQTFRFkJCQq6ursLCwr6+vsbGxnJycs7Oz9/f3+/v7+vr6+fn5wcHB/v7+/f39////xMTE/Pz8xcXFtLS0w8PDtbW1np6ex8fHzMzMy8vLysrKzc3Nqamp8fI/vQAAAIpJREFUeJztks0SwiAMhCPFGmoSoK2C+v7vaeg4Hvh5AcdvT2GzEw4LcDLTZFQ11pgzzBd0DlU1y4JXsI4UVlUIiYcZpQ9L8JqVY48aO0iE1VHfZZHtuFuGNisUy13qevr2d3/CHcH+25ymk1Q6uQ6zFCJY/HSySQpH2EdZKr+63VN+JFWueKb8egO60itONTc82AAAAABJRU5ErkJggg==\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2a11a5a7&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/host.4cb4c779.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('TrainingInteractiveMap')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(!_vm.isStarted)?_c('button',{on:{\"click\":_vm.start}},[_vm._v(\"START\")]):_vm._e(),_c('div',{staticClass:\"mapContainer\"},[_c('canvas',{ref:\"canvas\",staticClass:\"canvas\"}),_c('div',{ref:\"hostHUD\",staticClass:\"hostHUD\"},[_vm._m(0),_vm._m(1),_vm._m(2)]),_c('div',{staticClass:\"attack\"},[_c('button',{ref:\"startAttack\",on:{\"click\":_vm.resetAttack}},[_vm._v(\"Сбросить атаку\")]),_c('br'),_c('br'),_vm._v(\" Атака из сегмента: \"),_c('br'),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.segmentFrom),expression:\"segmentFrom\"}],attrs:{\"name\":\"segmentFrom\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.segmentFrom=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.checkSegmentTo]}},[_c('option',{attrs:{\"value\":\"0\"}},[_vm._v(\"Internet\")]),_c('option',{attrs:{\"value\":\"1\"}},[_vm._v(\"DMZ\")]),_c('option',{attrs:{\"value\":\"2\"}},[_vm._v(\"Data Center\")]),_c('option',{attrs:{\"value\":\"3\"}},[_vm._v(\"Office users\")]),_c('option',{attrs:{\"value\":\"4\"}},[_vm._v(\"ASU\")])]),_c('br'),_vm._v(\" в сегмент: \"),_c('br'),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.segmentTo),expression:\"segmentTo\"}],attrs:{\"name\":\"segmentFrom\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.segmentTo=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\",\"disabled\":_vm.isDisabled(1)}},[_vm._v(\"Internet\")]),_c('option',{attrs:{\"value\":\"1\",\"disabled\":_vm.isDisabled(2)}},[_vm._v(\"DMZ\")]),_c('option',{attrs:{\"value\":\"2\",\"disabled\":_vm.isDisabled(3)}},[_vm._v(\"Data Center\")]),_c('option',{attrs:{\"value\":\"3\",\"disabled\":_vm.isDisabled(4)}},[_vm._v(\"Office users\")]),_c('option',{attrs:{\"value\":\"4\",\"disabled\":_vm.isDisabled(5)}},[_vm._v(\"ASU\")])]),_c('br'),_c('br'),_c('button',{ref:\"startAttack\",on:{\"click\":_vm.startAttackSegment}},[_vm._v(\"Начать атаку на сегмент\")]),_c('br'),_c('br'),_c('button',{ref:\"startAttack\",on:{\"click\":_vm.startAttackHost}},[_vm._v(\"Начать атаку на хост\")])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Сегмент: \"),_c('strong',{staticClass:\"segmentName\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Хост: \"),_c('strong',{staticClass:\"hostName\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"IP хоста: \"),_c('strong',{staticClass:\"hostIP\"})])}]\n\nexport { render, staticRenderFns }","export const SEGMENT_HEIGHT = 4\r\nexport const SEGMENT_WIDTH = 4\r\nexport const SEGMENT_DEPTH = 0.1\r\nexport const HOST_WIDTH = 0.5\r\nexport const HOST_HEIGHT = 1\r\nexport const HOST_DEPTH = 0.5\r\n","import {\r\n    BoxGeometry,\r\n    Group,\r\n    Mesh,\r\n    MeshLambertMaterial,\r\n    MeshStandardMaterial,\r\n    MeshBasicMaterial,\r\n    Color,\r\n    SphereGeometry,\r\n    Texture,\r\n} from \"three\"\r\nimport { TextGeometry } from \"three/examples/jsm/geometries/TextGeometry\"\r\nimport { FontLoader } from \"three/examples/jsm/loaders/FontLoader\"\r\nimport { HOST_WIDTH, HOST_HEIGHT, HOST_DEPTH, SEGMENT_DEPTH } from \"./const\"\r\nimport { InteractiveMap } from \"./InteractiveMap\"\r\nimport { Segment } from \"./Segment\"\r\nconst fontLoader = new FontLoader()\r\n\r\nexport class Host {\r\n    #instance: Group\r\n    #segment: Segment\r\n    #texture: Texture | undefined\r\n    #modal: Group\r\n    #name: string\r\n    #ip: string\r\n    #animateEvents: Set<string> = new Set()\r\n    #animateEventsCount: number = 0\r\n\r\n    constructor(\r\n        segment: Segment,\r\n        x: number,\r\n        z: number,\r\n        text: string,\r\n        ip: string,\r\n        texture: Texture | undefined\r\n    ) {\r\n        this.#name = text\r\n        this.#ip = ip\r\n        this.#texture = texture\r\n        this.#segment = segment\r\n        this.#modal = this.createModal()\r\n        this.#instance = this.create(text, x, z)\r\n        this.createText(text)\r\n    }\r\n\r\n    create(name: string, x: number, z: number): Group {\r\n        const hostMaterial = new MeshStandardMaterial({\r\n            name: `host_${name}`,\r\n            map: this.#texture,\r\n        })\r\n\r\n        const host = new BoxGeometry(HOST_WIDTH, HOST_HEIGHT, HOST_DEPTH)\r\n\r\n        const hostMesh = new Mesh(host, hostMaterial)\r\n        hostMesh.castShadow = true\r\n        hostMesh.name = \"host\"\r\n        hostMesh.userData._modal = this.#modal\r\n        hostMesh.userData.segment = this.#segment\r\n        hostMesh.userData.host = this\r\n\r\n        const hostGroup = new Group()\r\n        hostGroup.name = `hostGroup_${name}`\r\n        hostGroup.add(hostMesh)\r\n\r\n        this.#segment.instance.add(hostGroup)\r\n        hostGroup.position.set(x, HOST_DEPTH + SEGMENT_DEPTH, z)\r\n        return hostGroup\r\n    }\r\n\r\n    createText(text: string): void {\r\n        fontLoader.load(\r\n            \"https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json\",\r\n            (font: any) => {\r\n                const geometry = new TextGeometry(text, {\r\n                    font: font,\r\n                    size: 12,\r\n                    height: 5,\r\n                    curveSegments: 1,\r\n                    bevelEnabled: true,\r\n                    bevelThickness: 1,\r\n                    bevelSize: 1,\r\n                    bevelSegments: 1,\r\n                })\r\n\r\n                let material = new MeshLambertMaterial({\r\n                    color: 0xf3ffe2,\r\n                    name: \"text\",\r\n                })\r\n\r\n                const textMesh = new Mesh(geometry, material)\r\n                textMesh.name = \"hostText\"\r\n                textMesh.position.set(0.2, 0.4, 0)\r\n                textMesh.rotation.x = -Math.PI / 2\r\n                textMesh.rotation.y = Math.PI / 2\r\n                textMesh.scale.multiplyScalar(0.01)\r\n                this.#instance.add(textMesh)\r\n            }\r\n        )\r\n    }\r\n\r\n    createModal(): Group {\r\n        const modalGeometry = new BoxGeometry(4, 8, 0.1)\r\n        const modalMaterial = new MeshBasicMaterial({\r\n            color: new Color(0, 255, 0),\r\n        })\r\n        const modalMesh = new Mesh(modalGeometry, modalMaterial)\r\n        modalMesh.rotation.y = Math.PI / 2\r\n\r\n        const modalGroup = new Group()\r\n        modalGroup.add(modalMesh)\r\n\r\n        fontLoader.load(\r\n            \"https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json\",\r\n            (font: any) => {\r\n                const geometry = new TextGeometry(\"text\", {\r\n                    font: font,\r\n                    size: 12,\r\n                    height: 5,\r\n                    curveSegments: 1,\r\n                    bevelEnabled: true,\r\n                    bevelThickness: 1,\r\n                    bevelSize: 1,\r\n                    bevelSegments: 1,\r\n                })\r\n\r\n                let material = new MeshLambertMaterial({\r\n                    color: 0x000000,\r\n                    name: \"text\",\r\n                })\r\n\r\n                const textMesh = new Mesh(geometry, material)\r\n                textMesh.position.set(0, 0, 0)\r\n                textMesh.rotation.x = -Math.PI / 2\r\n                textMesh.rotation.y = Math.PI / 2\r\n                textMesh.scale.multiplyScalar(0.01)\r\n            }\r\n        )\r\n\r\n        return modalGroup\r\n    }\r\n\r\n    generateEvent(): void {\r\n        const sphereGeometry = new SphereGeometry(0.1, 64, 32)\r\n        const sphereMaterial = new MeshBasicMaterial({\r\n            color: 0xffff00,\r\n            name: \"sphere\",\r\n        })\r\n        const sphere = new Mesh(sphereGeometry, sphereMaterial)\r\n        this.#instance.add(sphere)\r\n        this.addAnimateEvent(this.animateEvent, sphere)\r\n    }\r\n\r\n    addAnimateEvent(fn: (...args: any) => any, ...args: any[]): void {\r\n        const eventId = `host_${this.#name}_Event_${this.#animateEventsCount}`\r\n        this.#animateEventsCount += 1\r\n        this.#animateEvents.add(eventId)\r\n        this.interactiveMap.elementsForAnimated[eventId] = fn.bind(\r\n            this,\r\n            //@ts-ignore\r\n            eventId,\r\n            ...args\r\n        )()\r\n    }\r\n\r\n    removeAnimateEvent(eventId: string): void {\r\n        this.#animateEvents.delete(eventId)\r\n        delete this.interactiveMap.elementsForAnimated[eventId]\r\n    }\r\n\r\n    animateEvent(eventId: string, sphere: Mesh<SphereGeometry, MeshBasicMaterial>): () => void {\r\n        let direction = \"up\"\r\n        const host = this\r\n        return () => {\r\n            if (direction === \"up\") {\r\n                sphere.position.y += 0.1\r\n                if (sphere.position.y >= 0.7) {\r\n                    direction = \"down\"\r\n                }\r\n            } else if (direction === \"down\") {\r\n                sphere.position.y -= 0.01\r\n                if (sphere.position.y <= 0) {\r\n                    direction = \"up\"\r\n                    host.removeAnimateEvent(eventId)\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    get interactiveMap(): InteractiveMap {\r\n        return this.#segment.interactiveMap\r\n    }\r\n\r\n    get instance(): Group {\r\n        return this.#instance\r\n    }\r\n\r\n    get name(): string {\r\n        return this.#name\r\n    }\r\n\r\n    get ip(): string {\r\n        return this.#ip\r\n    }\r\n}\r\n","// @ts-ignore\r\nimport segmentTexture from \"./textures/segment.png\"\r\nimport {\r\n    BoxGeometry,\r\n    DoubleSide,\r\n    Group,\r\n    Mesh,\r\n    MeshLambertMaterial,\r\n    MeshStandardMaterial,\r\n    Texture,\r\n    TextureLoader,\r\n} from \"three\"\r\nimport { TextGeometry } from \"three/examples/jsm/geometries/TextGeometry\"\r\nimport { FontLoader } from \"three/examples/jsm/loaders/FontLoader\"\r\nimport { SEGMENT_WIDTH, SEGMENT_HEIGHT, SEGMENT_DEPTH } from \"./const\"\r\nimport { Host } from \"./Host\"\r\nimport { InteractiveMap } from \"./InteractiveMap\"\r\n\r\nconst textureLoader = new TextureLoader()\r\nconst fontLoader = new FontLoader()\r\nexport type Connection = {\r\n    from: any\r\n    to: any,\r\n    lines?: any\r\n}\r\n\r\nexport class Segment {\r\n    #id: string\r\n    #hosts: Host[] = []\r\n    // @ts-ignore\r\n    #textInstance: Mesh<TextGeometry, MeshLambertMaterial>\r\n    #instance: Group\r\n    #name: string\r\n    #interactiveMap: InteractiveMap\r\n    connections: Connection[] = []\r\n\r\n    constructor(text: string, x: number, z: number, interactiveMap: InteractiveMap) {\r\n        this.#id = text\r\n        this.#name = text\r\n        this.#instance = this.create(text, x, z)\r\n        this.#interactiveMap = interactiveMap\r\n        this.createText(text)\r\n    }\r\n\r\n    create(id: string, x: number, z: number): Group {\r\n        const texture = textureLoader.load(segmentTexture)\r\n        const segmentMaterial = new MeshStandardMaterial({\r\n            name: `segment_${id}`,\r\n            map: texture,\r\n        })\r\n        const segment = new BoxGeometry(SEGMENT_WIDTH, SEGMENT_HEIGHT, SEGMENT_DEPTH)\r\n        const segmentMesh = new Mesh(segment, segmentMaterial)\r\n        segmentMesh.rotation.x = -1.57\r\n        segmentMesh.castShadow = true\r\n        segmentMesh.name = \"mainMesh\"\r\n        const segmentGroup = new Group()\r\n\r\n        segmentGroup.add(segmentMesh)\r\n        segmentGroup.name = `segmentGroup_${id}`\r\n\r\n        segmentGroup.position.set(x, SEGMENT_DEPTH / 2, z)\r\n        segmentGroup.userData = {\r\n            insatnce: this,\r\n            connections: {from: [], to: []}\r\n        }\r\n        return segmentGroup\r\n    }\r\n\r\n    createText(text: string): void {\r\n        fontLoader.load(\r\n            \"https://cdn.rawgit.com/mrdoob/three.js/master/examples/fonts/helvetiker_regular.typeface.json\",\r\n            (font) => {\r\n                const geometry = new TextGeometry(text, {\r\n                    font: font,\r\n                    size: 40,\r\n                    height: 4,\r\n                    curveSegments: 1,\r\n                    bevelEnabled: true,\r\n                    bevelThickness: 1,\r\n                    bevelSize: 1,\r\n                    bevelSegments: 5,\r\n                })\r\n\r\n                let material = new MeshLambertMaterial({\r\n                    color: 0xf3ffe2,\r\n                    name: \"text\",\r\n                    side: DoubleSide,\r\n                })\r\n\r\n                const textMesh = new Mesh(geometry, material)\r\n                textMesh.position.set(-1.8, 0, 1.8)\r\n                textMesh.rotation.x = -Math.PI / 2\r\n                textMesh.scale.multiplyScalar(0.01)\r\n\r\n                this.#instance.add(textMesh)\r\n                this.#textInstance = textMesh\r\n            }\r\n        )\r\n    }\r\n\r\n    createHost(text: string, ip: string, texture: Texture | undefined): Host {\r\n        const perLine = 3 // 0 1 2    3 4 5\r\n        const stepX = 1.5\r\n        const startX = -1.5\r\n\r\n        const startZ = -1.5\r\n        const stepZ = 1\r\n\r\n        const lines = Math.floor(this.#hosts.length / perLine)\r\n        const x = startX + (this.#hosts.length % perLine) * stepX\r\n        const z = startZ + lines * stepZ\r\n        const host = new Host(this, x, z, text, ip, texture)\r\n        this.#instance.add(host.instance)\r\n        this.#hosts.push(host)\r\n        return host\r\n    }\r\n\r\n    get instance(): Group {\r\n        return this.#instance\r\n    }\r\n\r\n    get name(): string {\r\n        return this.#name\r\n    }\r\n\r\n    get interactiveMap(): InteractiveMap {\r\n        return this.#interactiveMap\r\n    }\r\n\r\n    get hosts(): Host[] {\r\n        return this.#hosts\r\n    }\r\n}\r\n","// @ts-ignore\r\nimport routerTexture from \"./textures/router.png\"\r\nimport {\r\n    DoubleSide,\r\n    Mesh,\r\n    Group,\r\n    BoxGeometry,\r\n    MeshStandardMaterial,\r\n    TextureLoader,\r\n    RepeatWrapping,\r\n    Vector2,\r\n    NearestFilter,\r\n} from \"three\"\r\n\r\nconst textureLoader = new TextureLoader()\r\n\r\nexport class Router {\r\n    #id: string\r\n    #instance: Group\r\n\r\n    constructor(id: string, x: number, z: number) {\r\n        this.#id = id\r\n        this.#instance = this.create(x, z, id)\r\n    }\r\n\r\n    create(x: number, z: number, id:string): Group {\r\n        const geometry = new BoxGeometry(3, 3, 0.1)\r\n        const texture = textureLoader.load(routerTexture)\r\n        texture.rotation = -0.8\r\n        texture.offset = new Vector2(0.5, -0)\r\n        texture.wrapS = RepeatWrapping\r\n        texture.wrapT = RepeatWrapping\r\n        texture.magFilter = NearestFilter\r\n        texture.repeat.x = 0.7\r\n        texture.repeat.y = 0.7\r\n        const material = new MeshStandardMaterial({\r\n            side: DoubleSide,\r\n            map: texture,\r\n        })\r\n        const plane = new Mesh(geometry, material)\r\n        plane.rotation.x = Math.PI / 2\r\n        plane.rotation.z = Math.PI / 4\r\n        plane.name = 'mainMesh'\r\n\r\n        const planeGroup = new Group()\r\n        planeGroup.add(plane)\r\n        planeGroup.name = `routerGroup_${id}`\r\n        console.log(id)\r\n        planeGroup.position.set(x, 0.01, z)\r\n        planeGroup.userData = {isRouter: true}\r\n        return planeGroup\r\n    }\r\n\r\n    get instance(): Group {\r\n        return this.#instance\r\n    }\r\n}\r\n","//@ts-ignore\r\nimport bg from \"./textures/floor.png\"\r\n// import GUI from 'lil-gui';\r\n\r\ntype ElementsForAnimated = {\r\n    [key: string]: () => any\r\n}\r\n\r\ntype HostConnection = {\r\n    id: string\r\n    connection: Mesh<BoxGeometry, MeshBasicMaterial>\r\n    sphere: Mesh<SphereGeometry, MeshBasicMaterial>\r\n}\r\n\r\nexport type Size = {\r\n    width: number\r\n    height: number\r\n}\r\n\r\nexport type EdgeLine = {\r\n    direction?: \"right\" | \"left\" | \"down\" | \"up\"\r\n    size: number\r\n    x: number\r\n    y?: number\r\n    z: number\r\n    color?: ColorRepresentation | undefined\r\n    animation?: Animation\r\n    name?: string\r\n}\r\n\r\nexport type Animation = {\r\n    direction: \"x\" | \"y\" | \"z\"\r\n    toScale: number\r\n    toPosition: number\r\n    method: \"+\" | \"-\"\r\n}\r\n\r\nimport {\r\n    WebGLRenderer,\r\n    PCFSoftShadowMap,\r\n    Scene,\r\n    MeshBasicMaterial,\r\n    Mesh,\r\n    TextureLoader,\r\n    BoxGeometry,\r\n    SphereGeometry,\r\n    Group,\r\n    Vector3,\r\n    Vector2,\r\n    RepeatWrapping,\r\n    Color,\r\n    DirectionalLight,\r\n    OrthographicCamera,\r\n    NearestFilter,\r\n    MeshStandardMaterial,\r\n    Raycaster,\r\n    Object3D,\r\n    OffscreenCanvas,\r\n    ColorRepresentation,\r\n    Event,\r\n} from \"three\"\r\nimport { EffectComposer } from \"three/examples/jsm/postprocessing/EffectComposer.js\"\r\nimport { RenderPass } from \"three/examples/jsm/postprocessing/RenderPass.js\"\r\nimport { ShaderPass } from \"three/examples/jsm/postprocessing/ShaderPass.js\"\r\nimport { OutlinePass } from \"three/examples/jsm/postprocessing/OutlinePass.js\"\r\nimport { FXAAShader } from \"three/examples/jsm/shaders/FXAAShader.js\"\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\"\r\n// import { EventDispatcher, BaseEvent, Event } from './EventDispatcher';\r\n\r\nimport { Segment, Connection } from \"./Segment\"\r\nimport { Router } from \"./Router\"\r\n\r\nconst textureLoader: TextureLoader = new TextureLoader()\r\n\r\nexport class InteractiveMap {\r\n    attackLines: any[] = []\r\n    #scene: Scene\r\n    #camera: OrthographicCamera\r\n    #renderer: WebGLRenderer\r\n    #light: DirectionalLight\r\n    #floorSize: Vector3 = new Vector3(90, 0.5, 90)\r\n    #segments: Segment[] = []\r\n    #routers: any[] = []\r\n    #hostsConnections: HostConnection[] = []\r\n    connections: Connection[] = []\r\n    outlinePass: OutlinePass | undefined\r\n    // #gui: GUI;\r\n    selectedObjects: Object3D[] = []\r\n    raycaster: Raycaster = new Raycaster()\r\n    mouse: Vector2 = new Vector2()\r\n    composer: EffectComposer | undefined\r\n    activeModal: any\r\n    #hostHUD: HTMLElement | undefined\r\n    controls: OrbitControls\r\n    #elementsForAnimated: ElementsForAnimated = {}\r\n    constructor(\r\n        rendererSize: Size,\r\n        lightPositions: Vector3,\r\n        canvas: HTMLCanvasElement | OffscreenCanvas,\r\n        hostHUD: HTMLElement\r\n    ) {\r\n        // this.#gui = new GUI();\r\n        this.#scene = new Scene()\r\n        this.#scene.background = new Color(0x999999)\r\n        this.#hostHUD = hostHUD\r\n\r\n        this.#camera = this.createCamera()\r\n\r\n        this.#renderer = this.createWebGLRenderer(rendererSize.width, rendererSize.height, canvas)\r\n\r\n        this.#light = this.createLight(lightPositions.x, lightPositions.y, lightPositions.z)\r\n\r\n        this.#scene.add(this.#camera)\r\n\r\n        this.createFloor()\r\n\r\n        this.initPostProcessing()\r\n\r\n        let controls = new OrbitControls(this.#camera, this.#renderer.domElement)\r\n        controls.minZoom = 1\r\n        controls.maxZoom = 7\r\n        controls.maxPolarAngle = (0.9 * Math.PI) / 2.2\r\n        controls.enablePan = true\r\n        this.controls = controls\r\n\r\n        this.render()\r\n    }\r\n\r\n    connectRouterTo(router: Group, to: Group) {\r\n        const routerX: number = router?.position.x || 0\r\n        const routerZ: number = router?.position.z || 0\r\n        const toX: number = to?.position.x || 0\r\n        const toZ: number = to?.position.z || 0\r\n\r\n        let connectionsCount = this.connections.filter((el: any) => el.to.name === to.name).length + 1\r\n        connectionsCount = connectionsCount > 1 ? connectionsCount : 0\r\n        // @ts-ignore\r\n        const objWidth = router.getObjectByName(\"mainMesh\")?.geometry?.parameters?.width || 0\r\n\r\n        const defaultLength = Math.abs(routerX - toX)\r\n        const upLine = (length: number = defaultLength): EdgeLine => ({\r\n            x: routerX,\r\n            z: routerZ - Math.ceil(objWidth / 2) - length / 2,\r\n            direction: \"up\",\r\n            size: length,\r\n        })\r\n\r\n        const leftLine = (length: number = defaultLength): EdgeLine => ({\r\n            x: routerX - Math.ceil(objWidth / 2) - length / 2,\r\n            z: routerZ,\r\n            direction: \"left\",\r\n            size: length,\r\n        })\r\n\r\n        const rightLine = (length: number = defaultLength): EdgeLine => ({\r\n            x: routerX + Math.ceil(objWidth / 2) + length / 2,\r\n            z: routerZ,\r\n            direction: \"right\",\r\n            size: length,\r\n        })\r\n\r\n        let verticalDirection: string | undefined\r\n        if (routerX < toX) {\r\n            verticalDirection = \"right\"\r\n        } else if (routerX > toX) {\r\n            verticalDirection = \"left\"\r\n        }\r\n\r\n        let horizontalDirection: string | undefined\r\n        if (routerZ < toZ) {\r\n            horizontalDirection = \"down\"\r\n        } else if (routerZ > toZ) {\r\n            horizontalDirection = \"up\"\r\n        }\r\n        const linesToDraw: EdgeLine[] = []\r\n\r\n        const moveStep = 0.1\r\n\r\n        //@ts-ignore\r\n        const toParameters = to.getObjectByName(\"mainMesh\").geometry.parameters\r\n        const line2Size = Math.abs(routerZ - toZ) - toParameters.height / 2\r\n        switch (verticalDirection) {\r\n            case \"right\":\r\n                if (routerX === toX) linesToDraw.push(rightLine())\r\n                const lineDataRight = rightLine(defaultLength - toParameters.width / 2)\r\n\r\n                const lineDataUp = upLine(line2Size)\r\n                lineDataUp.x = lineDataRight.x + lineDataRight.size / 2 + connectionsCount * moveStep\r\n                lineDataUp.z = lineDataRight.z - line2Size / 2\r\n\r\n                lineDataRight.x -= connectionsCount * moveStep\r\n\r\n                linesToDraw.push(lineDataRight)\r\n                linesToDraw.push(lineDataUp)\r\n\r\n                break\r\n\r\n            case \"left\":\r\n                if (routerX === toX) linesToDraw.push(rightLine())\r\n                const lineDataLeft = leftLine(defaultLength - toParameters.width / 2)\r\n\r\n                const lineDataUp2 = upLine(line2Size)\r\n                lineDataUp2.x = lineDataLeft.x - lineDataLeft.size / 2 + connectionsCount * moveStep\r\n                lineDataUp2.z = lineDataLeft.z - line2Size / 2\r\n\r\n                lineDataLeft.x += connectionsCount * moveStep\r\n\r\n                linesToDraw.push(lineDataLeft)\r\n                linesToDraw.push(lineDataUp2)\r\n\r\n                break\r\n\r\n            default:\r\n                break\r\n        }\r\n\r\n        const lines = this.createLine(linesToDraw)\r\n        this.connections.push({ from: router, to, lines })\r\n    }\r\n\r\n    createLine(lines: EdgeLine[]): any {\r\n        let linesMeshes: any = []\r\n        lines.forEach((line) => {\r\n            let width = 0.1\r\n            let depth = 0.1\r\n            const y = line.y ?? 0\r\n            // @ts-ignore\r\n            if ([\"right\", \"left\"].includes(line.direction)) {\r\n                width = line.size\r\n                // @ts-ignore\r\n            } else if ([\"up\", \"down\"].includes(line.direction)) {\r\n                depth = line.size\r\n            }\r\n            const lineMaterial = new MeshStandardMaterial({\r\n                color: line.color || \"blue\",\r\n                visible: !line.animation,\r\n            })\r\n\r\n            const geometry = new BoxGeometry(width, 0.1, depth, 1, 1, 1)\r\n\r\n            const mesh = new Mesh(geometry, lineMaterial)\r\n            mesh.position.set(line.x, y, line.z)\r\n            if (line.name) mesh.name = line.name\r\n            linesMeshes.push({ mesh, data: line })\r\n        })\r\n        this.#scene.add(...linesMeshes.map((el: any) => el.mesh))\r\n\r\n        return linesMeshes\r\n    }\r\n\r\n    findConnections(name: string) {}\r\n\r\n    creaeteAttackLines(connection: any, isReverse = false): any {\r\n        const linesToDraw = connection.lines.map((line: any) => {\r\n            return {\r\n                ...line.data,\r\n                y: 0.1,\r\n                color: \"red\",\r\n                animation: true,\r\n            }\r\n        })\r\n\r\n        const attackLines = this.createLine(linesToDraw)\r\n        if (isReverse) attackLines.reverse()\r\n        return attackLines\r\n    }\r\n\r\n    attack(from: Object3D<Event>, to: Object3D<Event>): void {\r\n        let animationsCount = 0\r\n        const animations: any = []\r\n        while (animationsCount < 8) {\r\n            const connectionsFrom = this.connections.filter((el: any) => {\r\n                if (from.userData?.isRouter) return el.from.name === from.name\r\n                return el.to.name === from.name\r\n            })\r\n            const connection = connectionsFrom[0]\r\n            console.log(connection)\r\n            const isReverse = !from.userData?.isRouter\r\n            const lines = this.creaeteAttackLines(connection, isReverse)\r\n\r\n            const directions: any = {\r\n                left: \"x\",\r\n                right: \"x\",\r\n                up: \"z\",\r\n                down: \"z\",\r\n            }\r\n\r\n            lines.forEach((line: any, index: number) => {\r\n                const direction = directions[line.data.direction]\r\n                line.mesh.scale[direction] = 0\r\n                line.mesh.position[direction] -= line.data.size / 2\r\n\r\n                const animationName = `attack_${index}_${animationsCount}`\r\n                animationsCount++\r\n                const target = from.userData?.isRouter\r\n                    ? connection.to.getObjectByName(\"mainMesh\")\r\n                    : connection.from.getObjectByName(\"mainMesh\")\r\n                animations.push({\r\n                    line,\r\n                    target,\r\n                    direction,\r\n                    name: animationName,\r\n                })\r\n            })\r\n            from = connection.from\r\n        }\r\n\r\n        let animationSteps = 0\r\n        animations.forEach((anim: any, index: number) => {\r\n            const { line, name, direction, target } = anim\r\n            this.elementsForAnimated[name] = () => {\r\n                if (animationSteps !== index) return\r\n                const mesh = line.mesh\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    animationSteps++\r\n                    delete this.elementsForAnimated[name]\r\n\r\n                    if (animationSteps % 2 === 0) {\r\n                        target.material.color = new Color(\"red\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    createRouter(id: string, x: number, z: number): Group {\r\n        const router = new Router(id, x, z)\r\n        this.#scene.add(router.instance)\r\n        this.#routers.push(router)\r\n        return router.instance\r\n    }\r\n\r\n    initPostProcessing(): void {\r\n        this.composer = new EffectComposer(this.#renderer)\r\n\r\n        const renderPass = new RenderPass(this.#scene, this.#camera)\r\n        this.composer.addPass(renderPass)\r\n\r\n        this.outlinePass = new OutlinePass(\r\n            new Vector2(window.innerWidth, window.innerHeight),\r\n            this.#scene,\r\n            this.#camera\r\n        )\r\n        this.outlinePass.visibleEdgeColor = new Color(255, 0, 0)\r\n        this.outlinePass.hiddenEdgeColor = new Color(255, 0, 0)\r\n        this.outlinePass.edgeThickness = 1\r\n        this.outlinePass.edgeStrength = 10\r\n        this.composer.addPass(this.outlinePass)\r\n\r\n        const effectFXAA = new ShaderPass(FXAAShader)\r\n        effectFXAA.uniforms.resolution.value.set(1 / window.innerWidth, 1 / window.innerHeight)\r\n        this.composer.addPass(effectFXAA)\r\n\r\n        this.#renderer.domElement.style.touchAction = \"none\"\r\n        this.#renderer.domElement.addEventListener(\"pointermove\", (event) => this.onPointerMove(event))\r\n        this.#renderer.domElement.addEventListener(\"pointerdown\", (event) => this.onPointerDown(event))\r\n    }\r\n\r\n    onPointerMove(event: PointerEvent): void {\r\n        if (event.isPrimary === false) return\r\n        this.mouse.x = (event.clientX / window.innerWidth) * 2 - 1\r\n        this.mouse.y = -(event.clientY / window.innerHeight) * 2 + 1\r\n\r\n        this.checkIntersection()\r\n    }\r\n\r\n    onPointerDown(event: PointerEvent): void {\r\n        if (event.isPrimary === false || this.selectedObjects.length === 0) return\r\n        const el = this.selectedObjects[0]\r\n        const modal = el.userData._modal\r\n        this.activeModal = modal\r\n    }\r\n\r\n    checkIntersection(): void {\r\n        this.raycaster.setFromCamera(this.mouse, this.#camera)\r\n        const intersects = this.raycaster.intersectObject(this.#scene, true)\r\n\r\n        if (intersects.length == 0) return\r\n\r\n        const selectedObject = intersects[0].object\r\n        this.addHost(selectedObject)\r\n\r\n        if (!this.outlinePass) return\r\n        this.outlinePass.selectedObjects = this.selectedObjects\r\n    }\r\n\r\n    addHost(obj: Object3D<Event>): void {\r\n        if (!obj) return\r\n        this.selectedObjects = []\r\n        if (obj.name == \"hostText\") {\r\n            const host = obj.parent?.children.find((el) => el.name == \"host\")\r\n            if (!host) return\r\n            this.selectedObjects.push(host)\r\n        } else if (obj.name == \"host\") {\r\n            this.selectedObjects.push(obj)\r\n        }\r\n\r\n        if (!this.#hostHUD) return\r\n        if (this.selectedObjects.length > 0) {\r\n            const segmentName = this.selectedObjects[0].userData.segment.name\r\n            this.#hostHUD.querySelector(\".segmentName\")!.textContent = segmentName\r\n\r\n            const hostName = this.selectedObjects[0].userData.host.name\r\n            this.#hostHUD.querySelector(\".hostName\")!.textContent = hostName\r\n\r\n            const hostIP = this.selectedObjects[0].userData.host.ip\r\n            this.#hostHUD.querySelector(\".hostIP\")!.textContent = hostIP\r\n        } else {\r\n            this.#hostHUD.querySelector(\".segmentName\")!.textContent = \"\"\r\n\r\n            this.#hostHUD.querySelector(\".hostName\")!.textContent = \"\"\r\n\r\n            this.#hostHUD.querySelector(\".hostIP\")!.textContent = \"\"\r\n        }\r\n    }\r\n\r\n    createSegment(text: string): Segment {\r\n        const startX = -9\r\n        const startZ = -3\r\n        const stepX = 6\r\n        const x = startX + stepX * (this.#segments.length || 0)\r\n\r\n        const segment = new Segment(text, x, startZ, this)\r\n        this.#segments.push(segment)\r\n        this.#scene.add(segment.instance)\r\n        return segment\r\n    }\r\n\r\n    createHostsConnection(id: string, length: number): void {\r\n        const hostConnectionMaterial = new MeshBasicMaterial({\r\n            color: 0xff0000,\r\n            name: \"hostsConnection\",\r\n        })\r\n        // TODO: Написать автоматическое вычисление длины между двумя хостами, и передавать в функцию два хоста, между которыми надо сделать соединение\r\n        const hostConnection = new BoxGeometry(length, 0.5, 0.1)\r\n        const hostConnectionMesh = new Mesh(hostConnection, hostConnectionMaterial)\r\n        hostConnectionMesh.position.set(0.5, 1, -0.45)\r\n\r\n        // Создаем шар для анимации активного соединения\r\n        const sphereGeometry = new SphereGeometry(0.1, 64, 32)\r\n        const sphereMaterial = new MeshBasicMaterial({\r\n            color: 0xffff00,\r\n            name: \"sphere\",\r\n        })\r\n        const sphere = new Mesh(sphereGeometry, sphereMaterial)\r\n        sphere.position.set(0.2, 1.5, -0.1)\r\n\r\n        const connectionGroup = new Group()\r\n        connectionGroup.add(hostConnectionMesh)\r\n        connectionGroup.add(sphere)\r\n\r\n        this.#hostsConnections.push({\r\n            id: id,\r\n            connection: hostConnectionMesh,\r\n            sphere: sphere,\r\n        })\r\n\r\n        this.#scene.add(connectionGroup)\r\n    }\r\n\r\n    createCamera(): OrthographicCamera {\r\n        const aspect = window.innerWidth / window.innerHeight\r\n        const d = 10\r\n\r\n        const camera = new OrthographicCamera(-d * aspect, d * aspect, d, -d, 1, 1000)\r\n        camera.position.set(20, 20, 20)\r\n        camera.rotation.order = \"YXZ\"\r\n        camera.rotation.y = -Math.PI / 4\r\n        camera.rotation.x = Math.atan(-1 / Math.sqrt(2))\r\n        return camera\r\n    }\r\n\r\n    createWebGLRenderer(width: number, height: number, canvas: HTMLCanvasElement | OffscreenCanvas): WebGLRenderer {\r\n        const renderer = new WebGLRenderer({\r\n            canvas: canvas,\r\n            antialias: false,\r\n        })\r\n        renderer.setPixelRatio(window.devicePixelRatio)\r\n        renderer.shadowMap.enabled = true\r\n        renderer.shadowMap.type = PCFSoftShadowMap\r\n        renderer.setSize(width, height)\r\n        return renderer\r\n    }\r\n\r\n    createLight(x: number, y: number, z: number): DirectionalLight {\r\n        const light = new DirectionalLight(0xffffff, 1.5)\r\n        light.position.set(10, 10, 0)\r\n        this.#scene.add(light)\r\n        return light\r\n    }\r\n\r\n    createFloor(): void {\r\n        const texture = textureLoader.load(bg)\r\n        texture.wrapS = RepeatWrapping\r\n        texture.wrapT = RepeatWrapping\r\n        texture.repeat.set(90, 90)\r\n        texture.magFilter = NearestFilter\r\n        const floorMaterial = new MeshStandardMaterial({\r\n            name: \"floor\",\r\n            map: texture,\r\n        })\r\n        const floor = new Mesh(new BoxGeometry(this.#floorSize.x, this.#floorSize.y, this.#floorSize.z), floorMaterial)\r\n        floor.position.set(0, -this.#floorSize.y / 2, 0)\r\n        this.#scene.add(floor)\r\n    }\r\n\r\n    render(): void {\r\n        if (this.#hostsConnections.length > 0) {\r\n            this.#hostsConnections.forEach((connection) => {\r\n                console.log(connection)\r\n            })\r\n        }\r\n\r\n        for (let event in this.#elementsForAnimated) {\r\n            this.#elementsForAnimated[event]()\r\n        }\r\n        this.#renderer.render(this.#scene, this.#camera)\r\n        this.composer?.render()\r\n        requestAnimationFrame(() => this.render())\r\n    }\r\n\r\n    get scene(): Scene {\r\n        return this.#scene\r\n    }\r\n\r\n    get camera(): OrthographicCamera {\r\n        return this.#camera\r\n    }\r\n\r\n    get renderer(): WebGLRenderer {\r\n        return this.#renderer\r\n    }\r\n\r\n    get light(): DirectionalLight {\r\n        return this.#light\r\n    }\r\n\r\n    get elementsForAnimated(): ElementsForAnimated {\r\n        return this.#elementsForAnimated\r\n    }\r\n\r\n    get segments(): Segment[] {\r\n        return this.#segments\r\n    }\r\n\r\n    fromInternetToRouter() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"segmentGroup_Internet\"\r\n            const nameTo = \"routerGroup_Router 1\"\r\n            const animName = \"fromInternetToRouter\"\r\n            let direction = \"z\"\r\n            const isReverse = true\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameTo && el.to.name === nameFrom)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[0]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromRouterToDMZ() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"routerGroup_Router 1\"\r\n            const nameTo = \"segmentGroup_DMZ\"\r\n            const animName = \"fromRouterToDMZ\"\r\n            let direction = \"x\"\r\n            const isReverse = false\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameFrom && el.to.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[1]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromDMZToRouter() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"segmentGroup_DMZ\"\r\n            const nameTo = \"routerGroup_Router 2\"\r\n            const animName = \"fromDMZToRouter\"\r\n            let direction = \"z\"\r\n            const isReverse = true\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameTo && el.to.name === nameFrom)\r\n            const lines = connection?.lines\r\n            console.log(connection)\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[0]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromRouterToDataCenter() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"routerGroup_Router 2\"\r\n            const nameTo = \"segmentGroup_Data Center\"\r\n            const animName = \"fromRouterToDataCenter\"\r\n            let direction = \"x\"\r\n            const isReverse = false\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameFrom && el.to.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[1]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromDataCenterToRouter() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"segmentGroup_Data Center\"\r\n            const nameTo = \"routerGroup_Router 2\"\r\n            const animName = \"fromDataCenterToRouter\"\r\n            let direction = \"z\"\r\n            const isReverse = true\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.to.name === nameFrom && el.from.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[0]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        // if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[1]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    fromOfficeUserToRouter() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"segmentGroup_Office users\"\r\n            const nameTo = \"routerGroup_Router 2\"\r\n            const animName = \"fromOfficeUserToASU\"\r\n            let direction = \"z\"\r\n            const isReverse = true\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.to.name === nameFrom && el.from.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[0]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        // if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[1]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromRouterToOfficeUsers() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"routerGroup_Router 2\"\r\n            const nameTo = \"segmentGroup_Office users\"\r\n            const animName = \"fromRouterToOfficeUsers\"\r\n            let direction = \"x\"\r\n            const isReverse = false\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameFrom && el.to.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[1]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    fromRouterToASU() {\r\n        return new Promise((res, rej) => {\r\n            const nameFrom = \"routerGroup_Router 2\"\r\n            const nameTo = \"segmentGroup_ASU\"\r\n            const animName = \"fromRouterToASU\"\r\n            let direction = \"x\"\r\n            const isReverse = false\r\n\r\n            const from = this.scene.getObjectByName(nameFrom)\r\n            const to = this.scene.getObjectByName(nameTo)\r\n            const connection = this.connections.find((el: any) => el.from.name === nameFrom && el.to.name === nameTo)\r\n            const lines = connection?.lines\r\n\r\n            let linesToDraw = lines.map((line: any) => {\r\n                return {\r\n                    ...line.data,\r\n                    y: 0.1,\r\n                    color: \"red\",\r\n                    animation: true,\r\n                }\r\n            })\r\n            if (isReverse) linesToDraw.reverse()\r\n            let attackLines = this.createLine(linesToDraw)\r\n            this.attackLines.push(...attackLines)\r\n            let line = attackLines[0]\r\n            let mesh = line.mesh\r\n            mesh.scale[direction] = 0\r\n            mesh.position[direction] -= line.data.size / 2\r\n\r\n            this.elementsForAnimated[`${animName}_1`] = () => {\r\n                if (!mesh.material.visible) mesh.material.visible = true\r\n\r\n                if (mesh.scale[direction] < 1) {\r\n                    mesh.scale[direction] += 0.01\r\n                    mesh.position[direction] += line.data.size / 200\r\n                } else {\r\n                    this.elementsForAnimated[`${animName}_2`] = () => {\r\n                        const lines = connection?.lines\r\n                        let linesToDraw2 = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        let attackLines2 = this.createLine(linesToDraw2)\r\n                        this.attackLines.push(...attackLines2)\r\n                        let line2 = attackLines2[1]\r\n                        let mesh2 = line2.mesh\r\n                        if (!mesh2.material.visible) mesh2.material.visible = true\r\n\r\n                        if (mesh2.scale[direction] < 1) {\r\n                            mesh2.scale[direction] += 0.01\r\n                            mesh2.position[direction] += line2.data.size / 200\r\n                        }\r\n\r\n                        let linesToDraw = lines.map((line: any) => {\r\n                            return {\r\n                                ...line.data,\r\n                                y: 0.1,\r\n                                color: \"red\",\r\n                                animation: true,\r\n                            }\r\n                        })\r\n                        if (isReverse) linesToDraw.reverse()\r\n                        let attackLines = this.createLine(linesToDraw)\r\n                        this.attackLines.push(...attackLines)\r\n                        let line = attackLines[0]\r\n                        let mesh = line.mesh\r\n                        mesh.scale[direction] = 0\r\n                        mesh.position[direction] -= line.data.size / 2\r\n                        // @ts-ignore\r\n                        to.getObjectByName(\"mainMesh\").material.color = new Color(\"red\")\r\n                        delete this.elementsForAnimated[`${animName}_1`]\r\n                        delete this.elementsForAnimated[`${animName}_2`]\r\n                        res(\"\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    resetAttack() {\r\n        this.#elementsForAnimated = {}\r\n\r\n        this.#segments.forEach((el: any) => {\r\n            el.instance.getObjectByName(\"mainMesh\").material.color = new Color(\"transparent\")\r\n        })\r\n\r\n        this.#routers.forEach((el: any) => {\r\n            el.instance.getObjectByName(\"mainMesh\").material.color = new Color(\"transparent\")\r\n        })\r\n\r\n        this.attackLines.forEach((el: any) => {\r\n            el.mesh.scale.x = 0\r\n            el.mesh.scale.y = 0\r\n            el.mesh.scale.z = 0\r\n        })\r\n    }\r\n}\r\n\r\nclass ColorGUIHelper {\r\n    object\r\n    prop\r\n    // @ts-ignore\r\n    constructor(object, prop) {\r\n        this.object = object\r\n        this.prop = prop\r\n    }\r\n    get value() {\r\n        return `#${this.object[this.prop].getHexString()}`\r\n    }\r\n    set value(hexString) {\r\n        this.object[this.prop].set(hexString)\r\n    }\r\n}\r\n\r\n// @ts-ignore\r\nfunction makeXYZGUI(gui, vector3, name, onChangeFn) {\r\n    const folder = gui.addFolder(name)\r\n    folder.add(vector3, \"x\", -10, 10).onChange(onChangeFn)\r\n    folder.add(vector3, \"y\", 0, 10).onChange(onChangeFn)\r\n    folder.add(vector3, \"z\", -10, 10).onChange(onChangeFn)\r\n    folder.open()\r\n}\r\n","import { Component, Vue } from \"vue-property-decorator\"\r\n// @ts-ignore\r\nimport hostImage from \"../../features/InteractiveMap/textures/host.jpg\"\r\nconst textureLoader = new TextureLoader()\r\nimport { TextureLoader, Color, Vector3, BoxGeometry, MeshStandardMaterial, Mesh, Object3D, Event } from \"three\"\r\n// @ts-ignore\r\nimport { InteractiveMap, EdgeLine, Size } from \"../../features/InteractiveMap\"\r\n// @ts-ignore\r\nimport mapData from \"../../interactiveMap.json\"\r\n\r\n@Component\r\nexport default class TrainingInteractiveMap extends Vue {\r\n    isStarted: boolean = false\r\n    interactiveMap: InteractiveMap | undefined\r\n    attackSegmentLines: Mesh<BoxGeometry, MeshStandardMaterial>[] = []\r\n    attackHostLines: Mesh<BoxGeometry, MeshStandardMaterial>[] = []\r\n    segmentFrom: number = 0\r\n    segmentTo: number | undefined = 1\r\n    segments: string[] = [\"Internet\", \"DMZ\", \"Data Center\", \"Office users\", \"ASU\"]\r\n\r\n    mounted() {\r\n        this.isStarted = true\r\n        this.start(this.canvas, this.hostHUD)\r\n    }\r\n\r\n    start(canvas: HTMLCanvasElement, hostHUD: HTMLElement): InteractiveMap {\r\n        const rendererSizes: Size = {\r\n            width: window.innerWidth - 20,\r\n            height: window.innerHeight - 20,\r\n        }\r\n        const lightPositions: Vector3 = new Vector3(10, 10, -4)\r\n        const IM = new InteractiveMap(rendererSizes, lightPositions, canvas, hostHUD)\r\n        this.interactiveMap = IM\r\n\r\n        const segments = []\r\n        const routers = []\r\n\r\n        textureLoader.load(hostImage, (texture) => {\r\n            texture.repeat.x = 0.4\r\n            texture.repeat.y = 0.4\r\n            texture.offset.set(0.5, 0.5)\r\n\r\n            mapData.segments.forEach((segment: any) => {\r\n                const newSegment = IM.createSegment(segment.name)\r\n                segments.push(newSegment)\r\n                segment.hosts?.forEach((host: any) => {\r\n                    newSegment.createHost(host.name, host.ip, texture)\r\n                })\r\n            })\r\n\r\n            mapData.routers.forEach((router: any) => {\r\n                if (!router.segments) return\r\n                const segmentFrom = IM.scene.getObjectByName(`segmentGroup_${router.segments.from}`)\r\n\r\n                const fromX = segmentFrom?.position.x || 0\r\n                const fromZ = segmentFrom?.position.z || 0\r\n\r\n                const stepX = 3\r\n                const stepZ = 5\r\n                const x = fromX + stepX\r\n                const z = fromZ + stepZ\r\n                const newRouter = IM.createRouter(router.name, x, z)\r\n                routers.push(newRouter)\r\n\r\n                router.segments.to.forEach((segment: any) => {\r\n                    const segmentTo = IM.scene.getObjectByName(`segmentGroup_${segment}`)\r\n                    // @ts-ignore\r\n                    IM.connectRouterTo(newRouter, segmentTo)\r\n                })\r\n\r\n                // @ts-ignore\r\n                IM.connectRouterTo(newRouter, segmentFrom)\r\n            })\r\n            const segmentFrom = IM.scene.getObjectByName(`segmentGroup_Internet`)\r\n            const segmentTo = IM.scene.getObjectByName(`segmentGroup_ASU`)\r\n            // if (segmentFrom && segmentTo) IM.attack(segmentFrom, segmentTo)\r\n        })\r\n\r\n        return IM\r\n    }\r\n\r\n    startAttackSegment(): void {\r\n        if (!this.interactiveMap || this.segmentTo === undefined || this.segmentFrom === undefined) return\r\n\r\n        this.resetAttack()\r\n        // return\r\n        // @ts-ignore\r\n        switch (this.segments[this.segmentFrom]) {\r\n            case \"Internet\":\r\n                switch (this.segments[this.segmentTo]) {\r\n                    case \"DMZ\":\r\n                        this.interactiveMap?.fromInternetToRouter().then(() => this.interactiveMap?.fromRouterToDMZ())\r\n                        break\r\n                    case \"Data Center\":\r\n                        this.interactiveMap\r\n                            ?.fromInternetToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToDMZ())\r\n                            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n                            .then(() => this.interactiveMap?.fromRouterToDataCenter())\r\n                        break\r\n                    case \"Office users\":\r\n                        this.interactiveMap\r\n                            ?.fromInternetToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToDMZ())\r\n                            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n                            .then(() => this.interactiveMap?.fromRouterToOfficeUsers())\r\n                        break\r\n                    case \"ASU\":\r\n                        this.interactiveMap\r\n                            ?.fromInternetToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToDMZ())\r\n                            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n                            .then(() => this.interactiveMap?.fromRouterToASU())\r\n                        break\r\n                }\r\n                break\r\n            case \"DMZ\":\r\n                switch (this.segments[this.segmentTo]) {\r\n                    case \"Data Center\":\r\n                        this.interactiveMap?.fromDMZToRouter().then(() => this.interactiveMap?.fromRouterToDataCenter())\r\n                        break\r\n                    case \"Office users\":\r\n                        this.interactiveMap\r\n                            ?.fromDMZToRouter()\r\n                            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n                            .then(() => this.interactiveMap?.fromRouterToOfficeUsers())\r\n                        break\r\n                    case \"ASU\":\r\n                        this.interactiveMap\r\n                            ?.fromDMZToRouter()\r\n                            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n                            .then(() => this.interactiveMap?.fromRouterToASU())\r\n                        break\r\n                }\r\n                break\r\n            case \"Data Center\":\r\n                switch (this.segments[this.segmentTo]) {\r\n                    case \"Office users\":\r\n                        this.interactiveMap.fromDataCenterToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToOfficeUsers())\r\n                        break\r\n                    case \"ASU\":\r\n                        this.interactiveMap.fromDataCenterToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToASU())\r\n                        break\r\n                }\r\n                break\r\n            case \"Office users\":\r\n                switch (this.segments[this.segmentTo]) {\r\n                    case \"ASU\":\r\n                        this.interactiveMap\r\n                            ?.fromOfficeUserToRouter()\r\n                            .then(() => this.interactiveMap?.fromRouterToASU())\r\n                        break\r\n                }\r\n                break\r\n        }\r\n    }\r\n\r\n    startAttackHost(): void {\r\n        this.resetAttack()\r\n        // @ts-ignore\r\n        const host = this.interactiveMap.scene\r\n            .getObjectByName(\"hostGroup_Administrator Workstation\")\r\n            .getObjectByName(\"host\")\r\n        // @ts-ignore\r\n        host.material.color = new Color(\"transparent\")\r\n        this.interactiveMap\r\n            ?.fromInternetToRouter()\r\n            .then(() => this.interactiveMap?.fromRouterToDMZ())\r\n            .then(() => this.interactiveMap?.fromDMZToRouter())\r\n            .then(() => this.interactiveMap?.fromRouterToOfficeUsers())\r\n            .then(\r\n                () =>\r\n                    // @ts-ignore\r\n                    (host.material.color = new Color(\"red\"))\r\n            )\r\n    }\r\n\r\n    resetAttack() {\r\n        this.interactiveMap?.resetAttack()\r\n    }\r\n\r\n    addAttackAnimation(\r\n        animationName: string,\r\n        linesData: EdgeLine[],\r\n        attackLines: Mesh<BoxGeometry, MeshStandardMaterial>[],\r\n        target: Object3D<Event>\r\n    ) {\r\n        if (!this.interactiveMap) return\r\n\r\n        let animateStep = 0\r\n        this.interactiveMap.elementsForAnimated[animationName] = () => {\r\n            if (animateStep >= attackLines.length) {\r\n                delete this.interactiveMap?.elementsForAnimated[animationName]\r\n                // @ts-ignore\r\n                target.material.color = new Color(\"red\")\r\n                return\r\n            }\r\n            const lineData = linesData[animateStep]?.animation\r\n            if (!lineData) return\r\n\r\n            const line: any = attackLines[animateStep]\r\n            if (!line) return\r\n\r\n            if (!line.material.visible) line.material.visible = true\r\n\r\n            const curScale = line.scale[lineData.direction]\r\n            if (curScale < lineData.toScale) {\r\n                line.scale[lineData.direction] += 0.1\r\n            }\r\n\r\n            const curPosition = line.position[lineData.direction]\r\n\r\n            if (lineData.method == \"+\" && curPosition < lineData.toPosition) {\r\n                line.position[lineData.direction] += 0.05\r\n            } else if (lineData.method == \"-\" && curPosition > lineData.toPosition) {\r\n                line.position[lineData.direction] -= 0.05\r\n            } else {\r\n                animateStep++\r\n            }\r\n        }\r\n    }\r\n\r\n    isDisabled(segmentIndex: number): boolean {\r\n        return segmentIndex <= this.segmentFrom\r\n    }\r\n\r\n    checkSegmentTo() {\r\n        if (this.segmentTo === undefined) return\r\n        if (this.segmentTo <= this.segmentFrom) this.segmentTo = undefined\r\n    }\r\n\r\n    get canvas(): HTMLCanvasElement {\r\n        return this.$refs.canvas as HTMLCanvasElement\r\n    }\r\n    get hostHUD(): HTMLElement {\r\n        return this.$refs.hostHUD as HTMLElement\r\n    }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!./script.ts?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/ts-loader/index.js??ref--14-3!./script.ts?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2a11a5a7&scoped=true&\"\nimport script from \"./script.ts?vue&type=script&lang=js&\"\nexport * from \"./script.ts?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2a11a5a7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a11a5a7\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport TrainingInteractiveMap from './components/TrainingInteractiveMap/index.vue';\n\n@Component({\n    // // @ts-ignore\n    components: {\n        TrainingInteractiveMap,\n    },\n})\nexport default class App extends Vue {}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=af89aa66&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = __webpack_public_path__ + \"img/router.d06ce6ef.png\";"],"sourceRoot":""}